<div class="container mt-3">
  <h1 class="text-center">Reactive form</h1>
</div>
<div class="container">
  <div class="row">
      <div class="col">
          <form [formGroup]="form">
              <div formGroupName="heroInfo">
                  <div class="form-group">
                      <label for="nome">Nome</label>
                      <input type="text" formControlName="nome" id="nome" class="form-control">
                      <span *ngIf="getFormC('heroInfo.nome')?.invalid && getFormC('heroInfo.nome')?.touched">
                          <ng-container *ngIf="getErrorsC('heroInfo.nome', 'required')">Campo nome obbligatorio</ng-container>
                          <ng-container *ngIf="getErrorsC('heroInfo.nome', 'nomeProibito')">nome non consentito</ng-container>
                      </span>
                  </div>
                  <div class="form-group">
                      <label for="alterEgo">Alter Ego</label>
                      <input type="text" formControlName="alterEgo" id="alterEgo" class="form-control">
                      <span *ngIf="getFormC('heroInfo.alterEgo')?.pending">Sto controllando...</span>
                      <span *ngIf="getFormC('heroInfo.alterEgo')?.invalid && getFormC('heroInfo.alterEgo')?.touched">
                          <ng-container *ngIf="getErrorsC('heroInfo.alterEgo', 'required')">Campo alterEgo obbligatorio</ng-container>
                          <ng-container *ngIf="getErrorsC('heroInfo.alterEgo', 'alterEgo')">alterEgo non valida</ng-container>
                      </span>
                  </div>
                  <div formArrayName="superpoteri" class="mb-3">
                    <h3>I miei superpoteri</h3>
                    <button type="button" (click)="addSuperpoteri()" class="btn btn-success">Aggiungi superpoteri</button>
                    <div class="form-group mb-2" *ngFor="let sportC of getSuperpoteriF(); let i = index">
                        <input type="text" class="form-control" [formControlName] = "i">
                    </div>
                </div>
                <div class="form-group">
                  <label for="nemico">Nemico</label>
                  <input type="nemico" formControlName="nemico" id="nemico" class="form-control">
                  <span *ngIf="getFormC('heroInfo.nemico')?.pending">Sto controllando...</span>
                  <span *ngIf="getFormC('heroInfo.nemico')?.invalid && getFormC('heroInfo.nemico')?.touched">
                      <ng-container *ngIf="getErrorsC('heroInfo.nemico', 'required')">Campo nemico obbligatorio</ng-container>
                      <ng-container *ngIf="getErrorsC('heroInfo.nemico', 'nemico')">Nemico non valido</ng-container>
                  </span>
              </div>
              </div>
              <button type="submit" (click)="submit()" class="btn btn-primary">Invia</button>
          </form>
      </div>
  </div>
</div>
